%define name @PACKAGE@
%define version @VERSION@
%define release 1
%define serial 1
%define libsuffix @SKSTREAM_LIB_SUFFIX@

Summary: An iostream socket library.
Name: %{name}
Version: %{version}
Release: %{release}
Serial: %{serial}
Copyright: LGPL
Group: System Environment/Libraries
Source: %{name}-%{version}.tar.gz
Requires: libstdc++
BuildRoot: %{_tmppath}/%{name}-%{version}-buildroot
BuildRequires: libstdc++-devel >= 2.95.2

%description
@SKSTREAM_PACKAGE@ is an iostream based socket library in C++. It is based on
the Freesockets library, and has been packaged for use by WorldForge.

%package devel
Summary: An iostream socket library headers and static libs.
Group: Development/Libraries
Requires: %{name} = %{version}

%description devel
@SKSTREAM_PACKAGE@ is an iostream based socket library in C++. It is based on
the Freesockets library, and has been packaged for use by WorldForge.

%prep
%setup -q

%build
%configure --enable-static
make

%install
rm -rf $RPM_BUILD_ROOT
%makeinstall

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root)
%{_libdir}/lib*.so.*
%doc README COPYING AUTHORS NEWS ChangeLog

%files devel
%defattr(-,root,root)
%{_libdir}/lib*.so
%{_libdir}/lib*.la
%{_libdir}/lib*.a
%{_libdir}/pkgconfig/*
%{_includedir}/%{name}%{libsuffix}
%{_libdir}/%{name}%{libsuffix}
